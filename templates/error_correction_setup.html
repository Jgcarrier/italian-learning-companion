{% extends "base.html" %}

{% block title %}Error Correction Setup{% endblock %}

{% block content %}
<div class="text-center mb-30">
    <h2>âœï¸ Error Correction</h2>
    <p>Spot the grammatical mistake and rewrite the sentence correctly</p>
</div>

<form method="POST">
    <input type="hidden" name="level" value="{{ level or 'A2' }}">
    <div class="form-group">
        <label for="level">Level:</label>
        <select name="level" id="level">
            <option value="A1" {% if level == 'A1' %}selected{% endif %}>A1 - Beginner</option>
            <option value="A2" {% if level == 'A2' or not level %}selected{% endif %}>A2 - Elementary</option>
            <option value="B1" {% if level == 'B1' %}selected{% endif %}>B1 - Intermediate</option>
            <option value="B2" {% if level == 'B2' %}selected{% endif %}>B2 - Upper Intermediate</option>
            <option value="GCSE" {% if level == 'GCSE' %}selected{% endif %}>GCSE</option>
        </select>
    </div>

    <div class="form-group">
        <label for="count">Number of Questions:</label>
        <input type="number" name="count" id="count" value="10" min="3" max="30">
    </div>

    <div class="form-group" style="background: #f0f9ff; padding: 15px; border-radius: 8px; border: 1px solid #aed6f1;">
        <label style="display: flex; align-items: center; gap: 10px; cursor: pointer; font-weight: 500;">
            <input type="checkbox" name="srs_mode" value="1" style="width: 18px; height: 18px;">
            ğŸ” Spaced repetition â€” review wrong answers at the end
        </label>
        <p style="color: #666; font-size: 0.85rem; margin: 6px 0 0 28px;">Questions you get wrong will reappear once at the end of the session.</p>
    </div>

    <div class="button-group">
        <button type="submit" class="btn btn-primary btn-large">Start Practice</button>
        <a href="{{ url_for('mixed_menu', level=level) }}" class="btn btn-secondary">Back</a>
    </div>
</form>

<div style="margin-top: 30px; padding: 20px; background: var(--light-gray); border-radius: 8px;">
    <h3 style="font-size: 1.1rem; margin-bottom: 10px;">ğŸ’¡ Common Error Types:</h3>
    <ul style="margin-left: 20px; color: #666;">
        <li>Wrong auxiliary (avere vs essere) in compound tenses</li>
        <li>Adjective agreement (gender/number)</li>
        <li>Wrong tense for the context (PP vs Imperfetto)</li>
        <li>Article errors and pronoun placement</li>
        <li>Type the <em>complete</em> corrected sentence â€” not just the wrong word</li>
    </ul>
</div>
{% endblock %}
